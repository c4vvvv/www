<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>鬼姬之夜觸發條件抽卡機</title>
  <style>
    /* 基本版型 */
    :root { 
  --bg1: #0d0d0d;   /* 幾乎純黑，背景底色 */
  --bg2: #1a0004;   /* 深酒紅黑，用來做區塊背景或卡片邊界 */
  --pumpkin: #b22222; /* 火紅/血紅，取代南瓜橘 */
  --accent: #e5e5e5;  /* 銀灰色，文字對比 */
  --card: #26000a;    /* 深紅黑，卡片底 */
  --glass: rgba(255, 255, 255, 0.05); /* 淡白透明感 */
}
    html,body{height:100%;margin:0;font-family: "Noto Sans TC", "Microsoft JhengHei", sans-serif;background: radial-gradient(circle at 10% 10%, var(--bg2), var(--bg1)); color:#fdf1ef;}
    .wrap{min-height:100%;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;padding:36px 16px 60px;box-sizing:border-box;}
    header{width:100%;max-width:900px;display:flex;align-items:center;justify-content:space-between;gap:12px}
    h1{margin:0;font-size:1.6rem;color:var(--pumpkin);text-shadow:0 3px 10px rgba(0,0,0,0.6)}
    p.lead{margin:6px 0 0;color:rgba(255,255,255,0.85);font-size:0.95rem}

    /* 卡片 */
    .card{
      margin-top:28px;
      width:100%;
      max-width:760px;
      min-height:120px;
      border-radius:16px;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      box-shadow: 0 8px 30px rgba(0,0,0,0.6), 0 0 18px rgba(155,93,229,0.05);
      padding:22px;
      position:relative;
      overflow:hidden;
      border:1px solid rgba(155,93,229,0.12);
      display:flex;
      align-items:center;
      justify-content:center;
      transition:transform .18s ease;
      perspective:1200px;
    }

    /* 規則文字（卡片翻轉效果） */
    .rule-face{
      width:100%;
      text-align:center;
      font-size:1.25rem;
      line-height:1.6;
      transform-origin:center;
      transition: transform .45s cubic-bezier(.2,.9,.3,1), opacity .25s ease;
      backface-visibility: hidden;
      color:#fff;
      padding:10px 18px;
      box-sizing:border-box;
    }
    .rule-face.flipped{ transform: rotateX(0deg) scale(1); opacity:1;}
    .rule-face.hidden{ transform: rotateX(90deg) scale(.98); opacity:0; }

    /* 按鈕列 */
    .controls{margin-top:18px;display:flex;gap:12px;flex-wrap:wrap;align-items:center;justify-content:center}
    button.btn{
      background:var(--pumpkin);
      color: #120717;
      border:0;padding:12px 20px;border-radius:10px;font-weight:700;cursor:pointer;
      box-shadow:0 6px 18px rgba(255,117,24,0.18);
      transition: transform .12s ease, box-shadow .12s ease;
    }
    button.btn.secondary{ background:transparent;color:var(--pumpkin);border:1px solid rgba(255,117,24,0.12);box-shadow:none}
    button.btn:active{ transform: translateY(2px) scale(.995) }

    /* 飄動蝙蝠與南瓜 */
    .decoration{position:fixed;z-index:5;pointer-events:none}
    .bat{width:64px;opacity:0.95;filter:drop-shadow(0 6px 8px rgba(0,0,0,0.6))}
    .bat.b1{left:6%;top:8%;animation:fly1 7.5s linear infinite}
    .bat.b2{right:6%;top:28%;animation:fly2 10s linear infinite}
    .pumpkin{width:84px;right:6%;bottom:6%;opacity:0.98}

    @keyframes fly1{
      0%{transform:translate(0,0) rotate(0)}20%{transform:translate(120px,-30px) rotate(10deg)}40%{transform:translate(-60px,-60px) rotate(-10deg)}60%{transform:translate(40px,20px) rotate(8deg)}100%{transform:translate(0,0) rotate(0)}
    }
    @keyframes fly2{
      0%{transform:translate(0,0) rotate(0)}30%{transform:translate(-140px,-20px) rotate(-12deg)}60%{transform:translate(60px,-40px) rotate(12deg)}100%{transform:translate(0,0) rotate(0)}
    }

    /* 小提示與 footer */
    .hint{margin-top:14px;color:rgba(255,255,255,0.7);font-size:.92rem}
    footer{margin-top:28px;color:rgba(255,255,255,0.22);font-size:0.85rem}

    /* 響應式 */
    @media (max-width:520px){
      .card{padding:18px}
      .rule-face{font-size:1rem}
      .bat{width:48px}
      .pumpkin{width:64px}
    }
  </style>
</head>
<body>
  <div class="decoration">
    <!-- 兩隻蝙蝠與南瓜圖（可替換） -->
    <img class="bat b1" src="11..png" alt="bat">
    <img class="bat b2" src="11..png" alt="bat">
    <img class="pumpkin" src="22..png" alt="pumpkin">
  </div>

  <div class="wrap">
    <header>
      <div>
        <h1>鬼姬之夜觸發條件抽卡機</h1>
        <p class="lead">抽一張觸發任務</p>
      </div>
      
    </header>

    <main style="width:100%;max-width:840px;">
      <section class="card" id="card">
        <div id="ruleFace" class="rule-face flipped">按下「抽卡」開始遊戲！</div>
      </section>

      <div class="controls" role="toolbar" aria-label="controls">
        <button class="btn" id="drawBtn">抽卡</button>
        <button class="btn secondary" id="shuffleBtn">重整規則順序</button>
        
      </div>

      

      
    </main>
  </div>

  <script>
    // ========== 規則庫（完全按照你提供的條目） ==========
    const rules = [
      "不能說：好累",
      "不能說：我想回家",
      "不能說：我好餓",
      "不能說：等一下去哪裡",
      "不能說：走快一點",
      "不能說：完蛋了　",
      "不能說：真假",
      "不能說：走慢一點",
      "不能說：妳好漂亮",
      "不能說：要確定ㄟ",
      "不能蹲下（笑到蹲下也算）",
      "不能笑（抽到這張他就完了）",
      "不能說：不覺得很好笑嗎　好笑嗎",
      "不能說：謝謝",
      "不能說：你是做什麼的",
      "不能說：為什麼",
      "不能說：「我忘了」",
      "不能做：用手指指別人",
      "不能做：看手機超過 5 秒",
      "不能做：摸頭髮"
    ];

    // DOM
    const drawBtn = document.getElementById("drawBtn");
    const shuffleBtn = document.getElementById("shuffleBtn");
    const copyBtn = document.getElementById("copyBtn");
    const ruleFace = document.getElementById("ruleFace");
    const card = document.getElementById("card");

    // Helper - 隨機
    function randInt(max){ return Math.floor(Math.random()*max); }

    // 簡單翻牌動畫：先隱藏、換文字、再放回
    function revealRule(text){
      ruleFace.classList.add('hidden');
      setTimeout(()=>{
        ruleFace.textContent = text;
        ruleFace.classList.remove('hidden');
        ruleFace.classList.add('flipped');
        // 小放大效果
        card.style.transform = "scale(1.03)";
        setTimeout(()=> card.style.transform = "scale(1)", 220);
      }, 240);
    }

    // 抽卡主流程
    drawBtn.addEventListener('click', ()=>{
      const idx = randInt(rules.length);
      revealRule(rules[idx]);
    });

    // 重整（洗牌）: 隨機重新排列陣列
    shuffleBtn.addEventListener('click', ()=>{
      for (let i = rules.length -1; i>0; i--){
        const j = Math.floor(Math.random()*(i+1));
        [rules[i], rules[j]] = [rules[j], rules[i]];
      }
      // 顯示第一張作為提示
      revealRule("規則順序已重整，準備抽卡！");
    });

    

    // 初始小動畫（載入顯示）
    document.addEventListener('DOMContentLoaded', ()=> {
      setTimeout(()=> revealRule("鬼姬之夜"), 450);
    });
  </script>
</body>
</html>

